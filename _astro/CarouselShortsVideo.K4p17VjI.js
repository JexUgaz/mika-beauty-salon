import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as h}from"./index.BJfUAbRs.js";import{C as M}from"./Carousel.DFGN-vhu.js";import{A as O,m as _,B as j}from"./proxy.uz5Qyhfu.js";/* empty css                       */import"./ArrowIcon.BnJ6VsCa.js";const A=({className:t})=>e.jsx("svg",{className:t,width:"32",height:"32",viewBox:"0 0 32 32",version:"1.1",children:e.jsx("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:e.jsx("g",{id:"Icon-Set-Filled",transform:"translate(-207.000000, -257.000000)",fill:"currentColor",children:e.jsx("path",{d:"M231,273 C229.896,273 229,272.104 229,271 C229,269.896 229.896,269 231,269 C232.104,269 233,269.896 233,271 C233,272.104 232.104,273 231,273 L231,273 Z M223,273 C221.896,273 221,272.104 221,271 C221,269.896 221.896,269 223,269 C224.104,269 225,269.896 225,271 C225,272.104 224.104,273 223,273 L223,273 Z M215,273 C213.896,273 213,272.104 213,271 C213,269.896 213.896,269 215,269 C216.104,269 217,269.896 217,271 C217,272.104 216.104,273 215,273 L215,273 Z M223,257 C214.164,257 207,263.269 207,271 C207,275.419 209.345,279.354 213,281.919 L213,289 L220.009,284.747 C220.979,284.907 221.977,285 223,285 C231.836,285 239,278.732 239,271 C239,263.269 231.836,257 223,257 L223,257 Z",id:"comment-3"})})})}),V=({className:t})=>e.jsx("svg",{className:t,height:"512",width:"512",viewBox:"0 0 512 512",xmlSpace:"preserve",children:e.jsx("g",{children:e.jsx("path",{fill:"currentColor",d:`M512,230.431L283.498,44.621v94.807C60.776,141.244-21.842,307.324,4.826,467.379\r
		c48.696-99.493,149.915-138.677,278.672-143.14v92.003L512,230.431z`})})}),C=({icon:t,label:i,iconClassName:n,onClick:l,className:s})=>e.jsxs("button",{onClick:l,className:`flex flex-col items-center gap-1 cursor-pointer ${s}`,children:[e.jsx("div",{className:"bg-black/50 rounded-full p-3",children:e.jsx(t,{className:`size-5 sm:size-6 ${n??"text-white"}`})}),e.jsx("p",{children:i})]}),B=({className:t})=>e.jsx("svg",{className:t,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e.jsx("path",{d:"M1.24264 8.24264L8 15L14.7574 8.24264C15.553 7.44699 16 6.36786 16 5.24264V5.05234C16 2.8143 14.1857 1 11.9477 1C10.7166 1 9.55233 1.55959 8.78331 2.52086L8 3.5L7.21669 2.52086C6.44767 1.55959 5.28338 1 4.05234 1C1.8143 1 0 2.8143 0 5.05234V5.24264C0 6.36786 0.44699 7.44699 1.24264 8.24264Z",fill:"currentColor"})});var m={},p={},y;function T(){return y||(y=1,Object.defineProperty(p,"__esModule",{value:!0}),p.defaultOptions=void 0,p.defaultOptions={lowercase:!1,precision:1,space:!1,units:["","K","M","B","T","P","E"]}),p}var a={},N;function $(){if(N)return a;N=1,Object.defineProperty(a,"__esModule",{value:!0}),a.getLocales=a.getFractionDigits=a.roundTo=a.parseValue=void 0;function t(s){const r=parseFloat(s?.toString());if(isNaN(r))throw new Error("Input value is not a number");if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)throw new RangeError("Input value is outside of safe integer range");return r}a.parseValue=t;function i(s,r){if(!Number.isFinite(s))throw new Error("Input value is not a finite number");if(!Number.isInteger(r)||r<0)throw new Error("Precision is not a positive integer");return Number.isInteger(s)?s:parseFloat(s.toFixed(r))}a.roundTo=i;function n(s){var r;if(Number.isInteger(s))return 0;const o=s.toString().split(".")[1];return(r=o?.length)!==null&&r!==void 0?r:0}a.getFractionDigits=n;function l(){var s;return typeof navigator>"u"?[]:Array.from((s=navigator.languages)!==null&&s!==void 0?s:[])}return a.getLocales=l,a}var I;function k(){if(I)return m;I=1,Object.defineProperty(m,"__esModule",{value:!0}),m.millify=void 0;const t=T(),i=$(),n=1e3;function*l(r){let o=n;for(;;){const d=r/o;if(d<1)return;yield d,o*=n}}function s(r,o){var d,w;const c=o?{...t.defaultOptions,...o}:t.defaultOptions;if(!Array.isArray(c.units)||!c.units.length)throw new Error("Option `units` must be a non-empty array");let u;try{u=i.parseValue(r)}catch(f){return f instanceof Error&&console.warn(`WARN: ${f.message} (millify)`),String(r)}const P=u<0?"-":"";u=Math.abs(u);let x=0;for(const f of l(u))u=f,x+=1;if(x>=c.units.length)return r.toString();let v=i.roundTo(u,c.precision);for(const f of l(v))v=f,x+=1;const b=(d=c.units[x])!==null&&d!==void 0?d:"",R=c.lowercase?b.toLowerCase():b,S=c.space?" ":"",E=v.toLocaleString((w=c.locales)!==null&&w!==void 0?w:i.getLocales(),{minimumFractionDigits:i.getFractionDigits(v)});return`${P}${E}${S}${R}`}return m.millify=s,m.default=s,m}var g=k();const F=({likes:t})=>{const[i,n]=h.useState(!1),[l,s]=h.useState(!1),r=()=>{n(o=>!o),s(!0),setTimeout(()=>s(!1),100)};return e.jsx(C,{icon:B,label:i?g.millify(t+1):g.millify(t),iconClassName:`transition-colors duration-300 ${i?"text-red-500":"text-white"}`,className:`transition-transform duration-300 ease-out ${l?"scale-125":"scale-100"}`,onClick:r})},D=({data:t})=>{const i=h.useRef(null);return h.useEffect(()=>{const n=i.current;if(!n)return;const l=([r])=>{if(i.current){if(r.isIntersecting){i.current.play().catch(()=>{});return}i.current?.pause()}},s=new IntersectionObserver(l,{threshold:.8});return s.observe(n),()=>s.disconnect()},[i.current]),e.jsxs("div",{className:"relative max-w-[100dvw] aspect-[9/16] h-full sm:w-auto sm:h-[calc(100dvh-var(--h-navbar)-20px)] sm:mx-auto sm:mt-[10px]",children:[e.jsxs("video",{ref:i,className:"h-full w-full object-contain sm:rounded-4xl",controlsList:"nodownload",loop:!0,controls:!0,autoPlay:!0,playsInline:!0,children:[e.jsx("source",{src:t.src,type:"video/webm"}),"Tu navegador no soporta video."]}),e.jsxs("div",{className:"absolute bottom-15 left-5 text-white z-10 max-w-[80%]",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:t.srcProfile,alt:`Foto de ${t.username}`,className:"w-8 h-8 rounded-full object-cover"}),e.jsxs("h2",{className:"text-sm",children:["@",t.username]})]}),e.jsx("p",{className:"mt-2 text-sm line-clamp-3",children:t.description})]}),e.jsxs("div",{className:"absolute bottom-25 right-2 sm:-right-15 z-10 flex flex-col gap-4 text-white",children:[e.jsx(F,{likes:t.likes}),e.jsx(C,{icon:A,label:g.millify(t.comments)}),e.jsx(C,{icon:V,label:g.millify(t.shares)})]})]})},z=()=>{const[t,i]=h.useState(!1);return h.useEffect(()=>{if(typeof window>"u")return;const n=navigator.userAgent,l=navigator.maxTouchPoints||0,s=/iPhone|iPad|iPod/.test(n),r=/WebKit/.test(n),o=!s&&l>1&&/Macintosh/.test(n);(s||o)&&r&&i(!0)},[]),t},q=({className:t})=>e.jsx("svg",{className:t,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C12.2652 3 12.5196 3.10536 12.7071 3.29289L19.7071 10.2929C20.0976 10.6834 20.0976 11.3166 19.7071 11.7071C19.3166 12.0976 18.6834 12.0976 18.2929 11.7071L13 6.41421V20C13 20.5523 12.5523 21 12 21C11.4477 21 11 20.5523 11 20V6.41421L5.70711 11.7071C5.31658 12.0976 4.68342 12.0976 4.29289 11.7071C3.90237 11.3166 3.90237 10.6834 4.29289 10.2929L11.2929 3.29289C11.4804 3.10536 11.7348 3 12 3Z",fill:"currentColor"})}),L=({onClick:t,show:i,type:n})=>{const l=n==="to-top",s=l?"-translate-y-50 2md:-translate-y-25":"-translate-y-30 2md:-translate-y-5",r=l?"":"rotate-180",o=l?20:-20;return e.jsx(O,{children:i&&e.jsx(_.button,{onClick:t,initial:{opacity:0,y:o},animate:{opacity:1,y:0},exit:{opacity:0,y:o},transition:{duration:.3},className:`z-10 cursor-pointer absolute top-1/2 right-0 2md:right-10 text-white ${s} hover:scale-110 active:scale-95`,children:e.jsx("div",{className:"rounded-full bg-black/50 hover:bg-white/10 transition duration-200 p-2",children:e.jsx(q,{className:`text-white ${r} size-10`})})})})},J=({data:t})=>{const i=z(),n=r=>e.jsx(D,{data:t[r]}),l=(r,o)=>e.jsx(L,{onClick:r,show:o!==0,type:"to-top"}),s=(r,o)=>e.jsx(L,{onClick:r,show:o!==t.length-1,type:"to-bottom"});return e.jsx(M,{direction:"vertical",builder:n,length:t.length,spaceBetween:0,showArrows:!0,responsiveViews:[1,1],responsiveBreakpoints:[j["2MD"]],className:"h-full sm:w-[98%] lg:w-[80%] xl:w-[70%] 2xl:w-[60%] 3xl:w-[50%]",buildNextButton:s,buildPrevButton:l,showArrowsPerBreakpoint:r=>[j["2MD"]].includes(r)||i,loop:!1,useVirtual:!0,mousewheel:!0},`carousel-${i}`)};export{J as default};
